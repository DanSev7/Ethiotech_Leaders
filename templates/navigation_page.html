{% extends "base.html" %}
{% load icon_filters %}

{% block title %}{{ nav_item.label }} - {{ site_settings.site_name|default:"EthioSites" }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 md:py-12">
    <div class="mb-6">
        <a href="{% url 'home' %}" class="inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium transition-colors">
            <i data-lucide="arrow-left" class="w-5 h-5"></i>
            <span>Back to Home</span>
        </a>
    </div>
    <div class="flex flex-col lg:flex-row gap-8">
        
        <div class="lg:w-2/3">
            <div class="bg-white rounded-xl shadow-xl p-6 md:p-10 mb-8">
                <h1 class="text-4xl font-extrabold mb-6" style="color: {{ site_settings.header_text_color|default:'#1f2937' }};">
                    {{ nav_item.label }}
                </h1>
                
                {# --- Dynamic Content from Admin Panel --- #}
                <div class="ck-content max-w-none text-gray-700">
                    {% if nav_item.description %}
                        {{ nav_item.description|safe }}
                    {% else %}
                        <p>This page doesn't have any content yet. Please add content in the admin panel.</p>
                    {% endif %}
                </div>
                {# ------------------------------------- #}
                
            </div>
        </div>
        
        <div class="lg:w-1/3">
            <div class="bg-white rounded-xl shadow-xl p-6 sticky top-24 border border-gray-100">
                <h3 class="text-xl font-bold mb-4" style="color: {{ site_settings.header_text_color|default:'#1f2937' }};">
                    More Pages
                </h3>
                <ul class="space-y-1">
                    {# NOTE: Assuming you pass all navigation items in 'navigation_items' context variable #}
                    {# NOTE: Assuming 'navigation_page' is the URL name for this template #}
                    {% for item in navigation_items %}
                        <li class="border-b border-gray-50 last:border-b-0">
                            <a href="{% url 'navigation_page' nav_id=item.id %}" 
                               class="block py-2.5 px-3 rounded-lg hover:bg-blue-50 transition-colors text-gray-700"
                               {% if item.id == nav_item.id %}
                               style="background-color: {{ site_settings.header_bg_color|default:'#ebf5ff' }}; color: {{ site_settings.header_text_color|default:'#1e40af' }}; font-weight: 600;"
                               {% endif %}>
                                {{ item.label }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}